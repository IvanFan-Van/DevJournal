---
title: 如何在服务器和本机之间互传文件
date: 2025-10-07 10:40:55
tags:
---
在服务器和本机之间互传文件其实是一件很简单的事情, 只需要遵循以下几个步骤.

第一步打开你想传输的文件的目录

例如这里我想传输 lab1-heap.c 文件, 所以我进到该文件所处的目录处
![](20251007101733.png)

然后在上方地址栏里写入 `powershell` 在此目录下打开 powershell 脚本
![](20251007101828.png)

进去后如果看到当前 powershell 的路径就是你所需要传输的文件目录, 那么就没问题了

![](20251007101921.png)

接下里我们会学一个命令叫做 `scp`, s 和 cp 分别是 ssh 和 copy 的缩写. 该命令可以将本地文件复制到远程服务器, 或是从远程服务器复制到本地目录. 其语法如下

```shell
scp [source_file] [dest] # 复制一个文件
scp -r [source_directory] [dest] # 复制一个目录
```

使用 `-r` 参数可以复制一个目录, 不加 `-r` 则是复制一个文件. 例如我想将当前文件夹下 *lab1-stack.c* 文件传输到 `workbench.cs.hku.hk` 服务器的 `~` 目录下, 则可以这样子
![](20251007102711.png)
远程服务器的命名应该符合以下格式
```
<username>@<host>:<path>
```
其中 username 就是你要登陆的用户的名称, 例如这里我要使用` h3626454` 用户来登录主机地址为 `workbench2.cs.hku.hk` 的主机, 并将文件复制到 `~` 目录下.

如果你的主机没有域名, 则可以使用 ip 代替, 例如
```shell
scp <file_path> <username>@123.123.123.123:<path>
```

执行成功后输出如下所示:
![](20251007102953.png)

你也可以复制一整个目录, 例如我想把整个 *labs* 目录传输过去, 则可以
![](20251007103131.png)

这样就可以啦. 同时如果你有配置 ssh config 的话, 则可以直接忽略用户名以及主机地址, 使用定义在 `C:/Users/<username>/.ssh/config` 下的 Host 直接登录, 例如以下配置:

![](20251007103355.png)

定义 `h3626454@workbench2.cs.hku.hk` 的 Host 为 `workbench2`, 那么我们就可以这样子传输文件
![](20251007103504.png)
这样就可以少打很多代码啦. 

从服务器往本机复制资源也是类似, 只需要将 `[source]` 和 `[dest]` 替换一下即可, 例如
![](20251007103635.png)

使用 scp 命令就可以愉快的在服务器和本机之间传输啦.